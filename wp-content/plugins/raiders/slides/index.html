<!DOCTYPE html>
<html>
	<head>
		<title>Raiders of the Lost Archives</title>
		<link rel="stylesheet" href="/wp-content/plugins/raiders/slides/css/reveal.css">
		<link rel="stylesheet" href="/wp-content/plugins/raiders/slides/css/theme/black.css">
		<link rel="stylesheet" href="/wp-content/plugins/raiders/slides/lib/css/zenburn.css">
		<style type="text/css">pre code mark {
			background-color:rgba( 0, 0, 0, 0.5 );
			color:inherit;
		}
		section svg {
			margin-top:-24px;
			margin-left:20px;
			float:right;
		}</style>
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<img src="/wp-content/plugins/raiders/slides/raiders-image.png">
					(Use the spacebar to cycle through slides)
				</section>
				<section><h2>Hello!</h2>
					<ul>
						<li class="fragment">Michael Dance</li>
						<li class="fragment">Live in DC</li>
						<li class="fragment">Developer at <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" width="180px" viewbox="0 0 482.09 282.716" enable-background="new 0 0 482.09 282.716" xml:space="preserve" class="svg replaced-svg">
<g>
	<defs>
		<rect id="SVGID_1_" width="482.09" height="282.716"></rect>
	</defs>
	<clippath id="SVGID_2_">
		<use xlink:href="#SVGID_1_" overflow="visible"></use>
	</clippath>
	<path fill="#FFFFFF" clip-path="url(#SVGID_2_)" d="M243.688,66.053l0.065,0.004c0.913,0.065,1.92,0.042,2.978-0.066l0.897-0.162   c0.671-0.066,1.207-0.141,1.816-0.252l1.008-0.207c3.428-0.812,6.417-2.495,8.853-4.992c2.657-2.713,4.207-5.624,4.612-8.654   l0.457-3.423c0.442-3.286-0.634-6.246-3.026-8.335c-1.54-1.34-3.466-2.099-5.721-2.254c-1.274-0.093-2.655,0.015-4.093,0.314   c-3.538,0.731-6.591,2.406-9.327,5.117c-2.083,2.06-3.532,4.251-4.309,6.509c-0.402,0.944-3.605,8.741-0.544,13.216   C238.248,64.174,240.07,65.785,243.688,66.053"></path>
	<path fill="#FFFFFF" clip-path="url(#SVGID_2_)" d="M480.28,95.46c-1.883-4.025-11.35-10.246-30.055-10.218   c-33.046,0.049-63.117,12.393-83.99,23.675c-1.717,0.358-2.194-0.694-2.286-1.651c0.304-2.374,0.604-4.737,0.902-7.083   c3.727-29.272,7.181-55.674,7.641-59.652l-0.134-0.103l0.182-1.22c0.102-0.667,0.214-1.352,0.334-2.046   c0.048-0.647,1.948-28.794,15.101-27.492c12.801,1.269,9.411,22.761,8.412,29.256c-0.797,5.181-2.212,17.307-8.357,25.633   c-0.055,0.075-0.107,0.147-0.16,0.222c-0.066,0.088-0.131,0.183-0.198,0.272c-1.024,1.391-2.02,2.5-2.911,3.403   c-0.134,0.137-0.266,0.268-0.401,0.402c-0.509,0.499-0.979,0.93-1.39,1.308c-0.442,0.407-0.776,0.712-1.029,0.984   c-0.834,0.901-1.69,1.723-2.521,2.52c-0.229,0.218,0.035,0.207-0.185,0.417l-0.396,0.409c0,0-2.247,1.932-1.711,5.183   c0.534,3.252,4.31,1.105,6.607,0.248c0.209-0.078,0.488-0.152,0.79-0.223c11.643-6.664,32.917-21.421,34.89-42.667   c3.98-42.875-33.801-36.853-35.46-36.626c-32.468,4.415-37.025,51.24-37.068,51.712c0.002,0.096-0.577,6.105-0.651,6.821   c-0.114,1.174-0.726,6.63-1.567,14.181l-0.378,3.359c-1.624,14.505-2.982,26.461-4.096,36.198   c-0.828,3.736-2.222,5.508-2.796,6.105c-9.83,7.401-25.276,17.687-35.199,17.688l-0.353-0.002   c-4.722-0.257-8.235-1.796-10.49-4.574c-2.201-2.716-2.843-9.823-2.392-14.877c0.306-1.812,1.399-2.459,2.104-2.685   c0.132-0.032,0.264-0.065,0.395-0.097c0.138-0.023,0.223-0.027,0.223-0.027l-0.003-0.027c8.191-2,18.044-4.232,24.156-5.886   c4.228-1.146,7.938-2.309,10.555-4.924c2.118-2.116,3.537-5.949,4.602-12.43c1.62-9.85-0.338-20.798-4.876-25.89   c-5.589-6.275-13.065-9.391-20.306-8.791c-22.655,1.879-31.574,18.847-36.677,41.723c-2.156,9.661-2.337,17.529-1.394,23.911   l-0.007,0.002c0,0,0.596,2.275-2.165,5.698c-2.021,1.993-4.209,4.191-5.913,6.003l-0.005,0.002   c-0.424,0.45-0.855,0.914-1.299,1.392c-6.882,7.44-5.992-0.641-5.992-0.641l0.275-2.114c0.27-2.435,0.583-5.213,0.909-8.089   l0.015-0.149c0.314-2.754,0.713-6.296,1.085-9.66h-0.092c0.266-2.678,0.118-3.013,0.363-5.593l0.019-0.208   c0.574-6.012,1.84-19.813,2.421-24.101c0.396-2.941-0.505-5.477-2.536-7.142c-1.471-1.198-3.12-1.618-5.35-1.36   c-0.826,0.095-1.738,0.29-2.71,0.579c-0.581,0.172-9.825,2.75-10.858,11.518l-4.414,39.285c-0.011,0.073-0.599,3.132-1.127,7.227   c-0.402,1.415-1.044,3.043-2.068,4.572c-1.512,1.81-3.24,3.805-5.066,5.919l-0.004,0.001c-0.424,0.49-0.857,0.996-1.3,1.516   c-6.883,8.092-5.991-0.148-5.991-0.148l0.274-2.114c0.269-2.435,0.583-5.213,0.91-8.089l0.015-0.149   c0.69-6.076,1.807-16,2.114-19.343l0.082-2.968c0.347-3.684,0.22-7.223-0.376-10.517c-0.642-3.546-1.956-6.64-3.907-9.194   c-2.063-2.703-4.769-5.335-8.519-5.983c-16.021-2.765-24.787,9.743-24.787,9.743l0.565-4.759c0.2-1.872,0.401-3.676,0.548-4.898   c0.543-4.461,2.376-26.816,2.654-29.38c0.296-2.713-0.657-5.134-2.687-6.823c-1.82-1.498-4.34-2.105-7.283-1.752   c-0.329,0.04-0.662,0.088-1,0.152l-0.34,0.062c-3.298,0.602-9.674,4.245-10.33,10.136c-1.578,14.182-4.746,44.71-6.623,59.241   c-1.133,8.765-2.236,17.301-3.185,24.996c-0.643,4.208-2.739,7.612-2.96,7.962c-5.092,6.455-11.454,13.452-19.768,18.267   c-0.01,0.007-0.019,0.014-0.029,0.022c-7.961,5.833-21.117,7.029-24.559,7.248v0.002h-0.034c-0.523,0.032-0.819,0.043-0.819,0.043   l-0.028-0.047c-21.85,0.038-27.588-23.272-23.036-65.31l-0.026-0.025l0.046-0.168l0.113-1.475c0,0,3.634,0.197,6.054,0.213   l1.705-0.052c2.113-0.058,4.162-0.158,6.093-0.293c8.01-0.566,48.376-5.001,56.47-36.866l0.023-0.1   c2.639-13.19-2.182-23-6.693-28.902c-6.255-8.188-15.805-13.941-24.922-15.017c-1.741-0.205-3.505-0.308-5.248-0.319   c-22.302-0.133-38.283,20.02-39.821,22.2c-1.982,2.626-3.818,5.433-5.47,8.411c-5.561,9.218-12.689,23.216-16.736,39.687   c-1.272-0.35-2.504-0.716-3.678-1.102C40.8,95.875,34.134,90.83,30.918,84.15c-2.691-5.59-2.815-12.038-0.364-19.16   c2.132-6.195,6.459-9.245,11.153-10.925c1.18-0.91,2.15-2.089,2.157-3.522c0.016-3.681-6.347-3.899-6.347-3.899l0.076-0.12   c-1.53-0.132-3.13-0.209-4.785-0.213C19.074,46.284,8.7,51.5,3.596,61.005c-3.861,7.188-4.642,14.911-2.202,21.746   c2.964,8.295,10.529,15.002,21.882,19.396c7.45,2.883,17.521,5.254,29.329,6.922c-0.669,4.08-1.126,8.272-1.299,12.553   c-1.35,33.465,5.909,50.933,18.377,61.876c1.084,0.967,2.186,1.847,3.301,2.667c0.054,0.04,0.109,0.083,0.165,0.124   c0.324,0.233,0.646,0.469,0.972,0.693c1.181,0.83,2.395,1.627,3.646,2.383l-0.008-0.108c8.76,4.935,17.063,6.061,18.962,6.258   c1.239,0.15,2.491,0.223,3.738,0.226h0.001c20.21,0.043,36.071-13.968,46.72-28.426l0.042,0.019c0,0,4.797-6.531,4.294,0.178   c-0.019,0.262-0.023,0.483-0.02,0.685c-0.173,2.657,0.901,5.217,3.045,7.216c2.134,1.985,5.038,3.004,8.394,2.884   c3.253-0.09,6.03-1.165,8.257-3.199c2.22-2.024,3.454-4.368,3.673-6.968c0.783-9.408,2.629-30.54,3.623-40.95   c0.107-0.821,0.195-1.789,0.296-2.908c0.21-2.331,0.497-5.513,1.097-8.727l-0.01,0.013c0,0,4.15-17.096,13.6-17.33   c8.902-0.221,6.324,12.421,5.996,13.886c-0.961,9.312-4.621,27.632-4.621,27.632s-4.547,24.34,0.811,27.935   s13.615,4.014,24.779-8.43c2.674-2.98,4.787-5.352,6.46-7.241c1.109-0.855,2.404-1.267,3.294,0.29   c0.084,0.32,0.173,0.632,0.275,0.919c0.102,0.198,0.23,0.423,0.382,0.66c0.006,0.012,0.013,0.021,0.02,0.032   c0.514,0.796,1.329,1.746,2.576,2.516c5.359,2.761,13.184,2.098,23.483-9.381c3.506-3.91,7.551-8.544,10.681-12.154   c1.269-1.118,3.272-2.036,4.903,1.068c0.34,0.648,0.663,1.086,0.966,1.368c3.979,5.838,8.677,8.378,10.366,8.838   c2.046,0.559,4.274,0.887,6.627,0.975c1.87,0.068,3.87-0.01,5.93-0.235c3.335-0.37,6.525-1.078,9.475-2.108   c7.673-2.679,17.274-7.607,25.55-12.971l0.025,0.027c0,0,6.96-4.849,6.424,0.147c-0.054,0.492-0.059,0.87-0.027,1.162   c-1.069,9.312-1.593,13.991-1.629,15.06c0,0-5.252,53.509-17.675,54.01c-7.672,0.31-10.832-13.789-3.897-32.939   c0.011-0.025,4.511-9.45,10.764-13.574c4.953-3.268,5.774-4.28,3.967-5.78c-1.806-1.5-14.224,1.802-20.323,3.166   c-10.39,2.17-23.19,5.562-34.346,8.801l0.05-0.066c0,0-0.553,0.179-1.568,0.519c-9.375,2.767-18.734,5.925-27.73,9.55   c-1.81,0.729-3.567,1.456-5.308,2.185c-18.847,7.104-39.818,17.997-55.026,27.265c-30.744,18.738-7.661,14.392-7.661,14.392   s20.389-3.701,37.112-13.39c8.617-4.992,49.19-30.932,85.917-40.087l-0.007,0.02c0,0,1.511-0.332-0.495,2.36   c-0.068,0.091-0.123,0.174-0.182,0.259c-2.511,3.301-19.737,23.332-7.787,39.291c3.621,4.833,10.013,8.429,17.378,8.789   c0.398,0.02,0.795,0.031,1.199,0.035l0.629,0.008c18.02,0.079,33.86-10.388,39.211-24.92c0.526-1.439,1.131-2.914,1.681-4.497   c3.998-11.522,6.381-35.265,9.617-59.387c0.395-1.152,1.465-3.433,4.072-5.144c28.981-13.403,64.229-25.395,79.294-12.895   c15.143,12.564-13.326,23.277-37.504,29.195c-8.577,2.359-11.729,2.538-23.647,4.549c-5.917,1.151-11.178,1.994-15.092,2.564   c-1.5,0.417-3.65,1.368-3.502,3.401c0.16,2.159,3.083,2.754,4.839,2.917c23.677-1.919,86.378-13.628,105.863-32.806   c0,0,1.998-2.063,3.174-3.742C482.793,107.18,482.891,101.056,480.28,95.46 M85.044,97.892   c7.155-36.171,24.443-52.016,24.443-52.016s4.066-4.559,8.578-4.68c0,0,5.055-0.485,8.583,4.407   c4.867,6.748,8.212,20.605,4.644,33.124l-0.055,0.17c-7.975,19.839-25.345,23.729-37.718,24.934l-1.685,0.163   c-0.396,0.048-0.792,0.085-1.185,0.116l-0.068,0.006v-0.002c-3.554,0.271-6.767-0.086-6.767-0.086l1.256-6.136H85.044z    M293.327,89.182c1.819-7.989,7.004-23.494,12.727-23.494l0.261,0.006c0.806,0.031,1.624,0.063,2.327,0.604   c6.369,3.027,4.209,20.905,3.626,24.318c-0.084,0.492-0.171,0.999-0.256,1.512c-0.09,0.381-0.178,0.801-0.264,1.264   c-0.953,5.194-3.407,7.515-4.75,8.428l-13.435,4.961c-0.136,0.026-0.306,0.07-0.556,0.151c-2.284,0.747-2.544-0.384-2.522-1.039   l0.181-1.251C290.68,104.537,292.2,93.898,293.327,89.182"></path>
	</g>
</svg>
</li>
					</ul>

				</section>
				<section>
					<img src="/wp-content/plugins/raiders/slides/chose-poorly.jpg" width="100%">

				</section>
				<section>
					<img src="/wp-content/plugins/raiders/slides/face-melting.gif" width="100%">

				</section>
				<section>
					<img src="/wp-content/plugins/raiders/slides/chin-scratch.gif" width="100%">

				</section>
				<section>
					<img src="/wp-content/plugins/raiders/slides/indy.gif" width="100%">

				</section>
				<section>
					<p>Let's talk about</p>
					<h2>Information Architecture</h2>

				</section>
				<section>
					What content do I have on my website? How is that grouped into sections? How is that organized and listed within a section?
				</section>
				<section>
					<p>For example:</p>
					<ul>
						<li class="fragment">How do I show all blog posts in a category?</li>
						<li class="fragment">How do I list all products in the children's department?</li>
						<li class="fragment">How do I display all artifacts from the Bronze Age?</li>
					</ul>

				</section>
				<section>
					<h2>The Internet:<br>Detail Pages and Archive Pages</h2>

				</section>
				<section>
					<h2>Detail Page</h2>
					<p>A page about a <strong><em>thing</em></strong>.</p>

				</section>
				<section>
					<h2>Archive Page</h2>
					<p>A list of <strong><em>things</em></strong>.</p>
					<p class="fragment"><strong>archive</strong> (or <strong>archives</strong>)<br>n. a collection of records.</p>

				</section>
				<section>
					<section>
						<p>In WordPress, detail pages = posts:</p>
						<ul>
							<li>Blog posts</li>
							<li>Pages</li>
							<li>Media</li>
						</ul>

					</section>
					<section>
						<p>Custom post types:</p>
						<ul>
							<li>Products</li>
							<li>Artifacts</li>
							<li>Books</li>
							<li>Staff Bios</li>
							<li>Press Releases</li>
							<li>...</li>
						</ul>

					</section>
				</section>
				<section>
					<section>
						<p>WordPress's archive pages:</p>
						<ul>
							<li>Main blog page</li>
							<li>Author archives</li>
							<li>Date archives</li>
							<li>(more...)</li>
						</ul>

					</section>
					<section>
						<ul>
							<li>Category archives</li>
							<li>Tag archives</li>
							<li>Custom taxonomy archives
								<ul>
									<li class="fragment">Product department</li>
									<li class="fragment">Artifact era</li>
									<li class="fragment">Book genre</li>
								</ul>
							</li>
						</ul>

					</section>
					<section>
						<ul>
							<li>Custom post type archives</li>
						</ul>

					</section>
					<section>
						<ul>
							<li>Site search results</li>
						</ul>

					</section>
				</section>
				<section>
					So that's archive pages.
				</section>
				<section>
					<img src="/wp-content/plugins/raiders/slides/basic-archive.png">

				</section>
				<section>
					<p>But wait...</p>
					<ol>
						<li class="fragment">How do I edit the heading? Or add a description at the top?</li>
						<li class="fragment">How do I sort the content so it's not listed by date?</li>
						<li class="fragment">How do I add filters and search forms?</li>
					</ol>

				</section>
				<section>
					<img width="50%" style="display:inline-block;" src="/wp-content/plugins/raiders/slides/ball.gif">
					<img style="display:inline-block;" width="45%" src="/wp-content/plugins/raiders/slides/sword.gif">
					<img width="50%" style="display:inline-block;float:left;" src="/wp-content/plugins/raiders/slides/molina.gif">
					<img style="display:inline-block;" width="45%" src="/wp-content/plugins/raiders/slides/drunk.gif">
				</section>
				<section>
					<h3>I. Making archive pages editable</h3>
				</section>
				<section>
					<p>Usually:</p>
					<ul>
						<li>They're not</li>
						<li>or, they're buried in a big Theme Options page</li>
						<li>or, you make your own archives with some complicated plugin setup</li>
					</ul>

				</section>
				<section>
					<p>Our way:</p>
					<ul>
						<li>Add a custom options page just for the archive</li>
						<li>Put it where users can logically find it</li>
						<li>Only use plugins for the really complicated stuff</li>
					</ul>

				</section>
				<section>
					<pre class="php"><code data-trim>
						acf_add_options_sub_page( array(
							'page_title'  => 'Book Archive Page Settings',
							'menu_title'  => 'Archive Page',
							'menu_slug'   => 'book-archive',
							'parent_slug' => 'edit.php?post_type=book'
						) );
					</code></pre>

				</section>
				<section>
					<img src="/wp-content/plugins/raiders/slides/admin-bar.png">

				</section>
				<section>
					<img src="/wp-content/plugins/raiders/slides/archive-page.png">

				</section>
				<section>
					<pre class="html"><code data-trim>
						<h1 class="archive-title">
							&lt;?php the_field( 'books_title', 'option' ); ?&gt;
						</h1>
						<div class="archive-description">
							&lt;?php the_field( 'books_description', 'option' ); ?&gt;
						</div>
					</code></pre>

				</section>
				<section>
					<img src="/wp-content/plugins/raiders/slides/archive-2.png">

				</section>
				<section>
					<h3>II. Organizing the posts on archive pages</h3>

				</section>
				<section>
					<p>Usually:</p>
					<ul>
						<li>They're sorted by date published</li>
						<li>There are 10 per page</li>
					</ul>

				</section>
				<section>
					<p>Our way:</p>
					<ul>
						<li>Sort them however you want</li>
						<li>Display as many as you want</li>
					</ul>

				</section>
				<section>
					<section>
						<pre class="php"><code data-trim data-noescape>
							function my_books_query( $query ) {

							}
							add_action( 'pre_get_posts', 'my_books_query' );
						</code></pre>

					</section>
					<section>
						<pre class="php"><code data-trim data-noescape>
							function my_books_query( $query ) {

								<mark>if ( is_admin() || !$query->is_main_query() )</mark>
									<mark>return;</mark>

								<mark>if ( !is_post_type_archive( 'book' ) )</mark>
									<mark>return;</mark>

							}
							add_action( 'pre_get_posts', 'my_books_query' );
						</code></pre>

					</section>
					<section>
						<pre class="php"><code data-trim data-noescape>
							function my_books_query( $query ) {

								if ( is_admin() || !$query->is_main_query() )
									return;

								if ( !is_post_type_archive( 'book' ) )
									return;

								<mark>$query->set( 'order', 'ASC' );</mark>
								<mark>$query->set( 'orderby', 'title' );</mark>
								<mark>$query->set( 'posts_per_page', '25' );</mark>

							}
							add_action( 'pre_get_posts', 'my_books_query' );
						</code></pre>

					</section>
				</section>
				<section>
					<img src="/wp-content/plugins/raiders/slides/archive-sorted.png">

				</section>
				<section>
					<pre class="php"><code data-trim data-noescape>
						$query->set( 'posts_per_page',
							get_field( 'books_per_page', 'option' ) );
					</code></pre>

				</section>
				<section>
					https://codex.wordpress.org<br>/Function_Reference/WP_Query

				</section>
				<section>
					<h3>III. Adding search filters</h3>

				</section>
				<section>
					<pre class="html"><code data-trim>
						&lt;form method="get" action="/wp-content/plugins/raiders/slides/&lt;?php echo esc_url( get_post_type_archive_link( 'book' ) ); ?&gt;"&gt;
							Filter by:
							&lt;?php wp_dropdown_categories( array(
								'taxonomy'        => 'genre',
								'name'            => 'book_genre',
								'show_option_all' => 'Genre',
								'selected'        => (int) $_GET['book_genre'],
							) ); ?&gt;
							<input type="text" name="book_keyword" placeholder="Keyword" value="&lt;?php echo esc_attr( $_GET['book_keyword'] ); ?&gt;">
							<input type="submit" value="Go">
						&lt;/form&gt;
					</code></pre>

				</section>
				<section>
					<img src="/wp-content/plugins/raiders/slides/archive-form.png">

				</section>
				<section>
					<p>In your hook function:</p>
					<pre class="php"><code data-trim>
						$genre = isset( $_GET['book_genre'] )
						         ? (int) $_GET['book_genre'] : '';

						if ( $genre ) {
							$query->set( 'tax_query', array(
								array(
									'taxonomy' => 'genre',
									'terms'    => $genre,
								)
							) );
						}
					</code></pre>

				</section>
				<section>
					<pre class="php"><code data-trim>
						$keyword = isset( $_GET['book_keyword'] )
						         ? sanitize_text_field( $_GET['book_keyword'] ) : '';

						if ( $keyword ) {
							$query->set( 's', $keyword );
						}
					</code></pre>

				</section>
				<section>
					<img src="/wp-content/plugins/raiders/slides/archive-searched.png">

				</section>
				<section>
					<img src="/wp-content/plugins/raiders/slides/museum.gif" width="100%">

				</section>
				<section>
					Questions?
				</section>

			</div>
		</div>
		<script src="/wp-content/plugins/raiders/slides/lib/js/head.min.js"></script>
		<script src="/wp-content/plugins/raiders/slides/js/reveal.js"></script>
		<script>
			Reveal.initialize();
		</script>
	</body>
</html>